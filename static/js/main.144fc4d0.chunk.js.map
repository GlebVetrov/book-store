{"version":3,"sources":["components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/book-list/book-lists.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/search-panel/search-panel.js","components/search-panel/index.js","components/pages/home-page.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/card-page.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/app.js","components/app/index.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","reducers/reducer.js","store.js","index.js"],"names":["BookListItem","state","bookData","_this","props","componentDidUpdate","oldProps","oldState","setState","componentWillReceiveProps","newProps","_this$state$bookData","this","select","book","onAddedToCart","title","authors","price","thumbnailUrl","react_default","a","createElement","ListGroup","Item","className","src","alt","Button","onClick","variant","React","Component","BookList","_ref","books","str","items","pageNum","parseInt","slice","filter","toLowerCase","indexOf","map","length","i","id","key","components_book_list_item","bookAddedToCart","bookId","type","payload","bookSearch","Spinner","style","width","height","margin","ErrorIndicator","BookListContainer","fetchError","errorMessage","onError","fetchSuccess","loadedData","onLoaded","loadData","sp","URLSearchParams","append","isoFetch","method","body","then","response","ok","json","Error","status","data","JSON","parse","result","catch","error","onRequested","_this$props","loading","search","cartItems","components_spinner","components_error_indicator","Fragment","es_Container","book_lists","connect","ownProps","_state$store$bookList","store","bookList","shoppingCart","dispatch","err","SearchPanel","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inputRef","current","value","createRef","focus","Form","inline","FormControl","placeholder","ref","HomePage","Navbar","bg","padding","components_search_panel","as","Nav","react_router_dom","to","activeClassName","exact","components_book_list","match","params","clid","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartTable","_state$store$shopping","total","orderTotal","renderRow","item","idx","count","CSSTransition","timeout","classNames","TransitionGroup","CardPage","components_shopping_cart_table","ShopHeader","numItems","href","AnimationRoute","withRouter","location","enter","exit","react_router","path","component","App","_ref2","num","reduce","sum","role","components_shop_header","ErrorBoundry","hasError","children","updateBookList","action","undefined","objectSpread","updateCartItems","concat","toConsumableArray","updateOrder","quantity","_state$shoppingCart","find","itemIndex","findIndex","_ref3","newItem","arguments","_item$id","_item$count","_item$title","_item$total","updateCartItem","updateShoppingCart","reducer","combinedReducer","combineReducers","createStore","ReactDOM","render","es","error_boundry","components_app","document","getElementById"],"mappings":"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","file":"static/js/main.144fc4d0.chunk.js","sourcesContent":["import BookListItem from './book-list-item';\r\n\r\nexport default BookListItem;","import React from 'react';\r\nimport './book-list-item.css';\r\nimport { Button } from 'react-bootstrap';\r\nimport { ListGroup } from 'react-bootstrap';\r\n\r\nclass BookListItem extends React.Component {\r\n\r\n    state = {\r\n        bookData: this.props\r\n    }\r\n\r\n    componentDidUpdate = (oldProps, oldState) => {\r\n        if ( oldProps!==this.props )  {\r\n            this.setState({bookData: this.props});\r\n        }\r\n      };\r\n\r\n    componentWillReceiveProps = (newProps) => {\r\n        // console.log(\"MobileClient id=\"+newProps.book.id+\" componentWillReceiveProps\");\r\n      };\r\n\r\n    render() {\r\n        const { select, book, onAddedToCart } = this.state.bookData;\r\n        const { title, authors, price, thumbnailUrl } = book;\r\n\r\n        // console.log('render: Book id=' + book.id);\r\n\r\n        return (\r\n            <ListGroup.Item  className={ select ? 'book-list-item book-select' :  'book-list-item'} >\r\n                <div className='book-cover'>\r\n                    <img src={thumbnailUrl} alt={'cover'}/>\r\n                </div>\r\n                <div className={'book-details'}>\r\n                    <span className='book-title'>{title}</span>\r\n                    <div className='book-author'>{authors}</div>\r\n                    <div className='book-price'>{price}</div>\r\n                    <Button onClick={onAddedToCart} variant=\"info\">Add to cart</Button>\r\n                </div>\r\n            </ListGroup.Item>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default BookListItem;","import React from 'react';\r\nimport { ListGroup } from 'react-bootstrap';\r\nimport BookListItem from '../book-list-item';\r\n \r\nconst BookList = ({ books, str, onAddedToCart, items, pageNum }) => {\r\n    \r\n    pageNum = parseInt(pageNum);\r\n\r\n    if (pageNum === 1) {\r\n        books = books.slice(0, 10);\r\n    }\r\n    if (pageNum === 2) {\r\n        books = books.slice(10, 20);\r\n    }\r\n    if (pageNum === 3) {\r\n        books = books.slice(20, 30);\r\n    }\r\n    if (pageNum === 4) {\r\n        books = books.slice(30, 40);\r\n    }\r\n    if (pageNum === 5) {\r\n        books = books.slice(40, 50);\r\n    }\r\n\r\n    return (\r\n        <ListGroup className='book-list'>\r\n            {\r\n                books.filter((book) => {\r\n                    if (book.title.toLowerCase().indexOf(str.toLowerCase()) !== -1) {\r\n                        return true;\r\n                    }\r\n                    return false;\r\n                }).map(( book ) => {\r\n                    \r\n                    if (items.length !== 0){\r\n                        \r\n                    for (let i = 0; i < items.length; i++) {\r\n                        \r\n                        if (items[i].id === book.id) {\r\n                            \r\n                            return (<li key={book.id}>\r\n                                <BookListItem\r\n                                    select = { true }\r\n                                    book = { book }\r\n                                    onAddedToCart={()=>{\r\n                                       return onAddedToCart(book.id)}\r\n                                    }\r\n                                />\r\n                            </li>)\r\n                        }\r\n                    }\r\n                    }\r\n                    return (<li key={book.id}>\r\n                                <BookListItem\r\n                                    select = { false }\r\n                                    book = { book }\r\n                                    onAddedToCart={()=>{\r\n                                       return onAddedToCart(book.id)}\r\n                                    }\r\n                                />\r\n                            </li>)\r\n                        \r\n                })\r\n            }\r\n        </ListGroup>\r\n    )\r\n};\r\n\r\nexport default BookList;","\r\nconst booksLoaded = (newBooks) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_SUCCESS',\r\n        payload: newBooks\r\n    }\r\n};\r\n\r\nconst booksRequested = () => {\r\n    return {\r\n        type: 'FETCH_BOOKS_REQUEST'\r\n    }\r\n};\r\n\r\nconst booksError = (error) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_FAILURE',\r\n        payload: error\r\n    }\r\n};\r\n\r\nconst bookAddedToCart = (bookId) => {\r\n    return {\r\n        type: 'BOOK_ADDED_TO_CART',\r\n        payload: bookId\r\n    }\r\n};\r\n\r\nconst bookRemoveFromCart = (bookId) => {\r\n    return {\r\n        type: 'BOOK_REMOVE_FROM_CART',\r\n        payload: bookId\r\n    }\r\n};\r\n\r\nconst bookSearch = (str) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_SEARCH',\r\n        payload: str\r\n    }\r\n}\r\n\r\nconst allBookRemoveFromCart = (bookId) => {\r\n    return {\r\n        type: 'ALL_BOOK_REMOVE_FROM_CART',\r\n        payload: bookId\r\n    }\r\n};\r\n\r\n\r\nexport {    \r\n    bookAddedToCart,\r\n    bookRemoveFromCart,\r\n    allBookRemoveFromCart,\r\n    bookSearch,\r\n    booksLoaded,\r\n    booksError,\r\n    booksRequested\r\n};","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nclass Spinner extends React.Component {\r\n    render() {\r\n        return (\r\n        <div className=\"lds-css ng-scope\">\r\n            <div className=\"lds-spin\" style={{width:\"100%\", height:\"100%\", margin:\"0 auto\"}}>\r\n                <div><div></div></div><div><div></div>\r\n                </div><div><div></div></div><div><div>\r\n                </div></div><div><div></div></div><div>\r\n                <div></div></div><div><div></div></div>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Spinner;","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\n\r\nconst ErrorIndicator = () => {\r\n    return <div>Error!</div>\r\n};\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container } from 'react-bootstrap';\r\nimport isoFetch from 'isomorphic-fetch';\r\nimport BookList from './book-lists';\r\n\r\nimport { bookAddedToCart, booksLoaded, booksError, booksRequested } from '../../actions';\r\nimport './book-list.css';\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nclass BookListContainer extends React.Component {\r\n\r\n    state = {\r\n        \r\n    }\r\n    \r\n    componentDidMount() {        \r\n        if (this.props.books.length === 0) {\r\n            this.props.onRequested();\r\n            this.loadData();\r\n        }        \r\n    }\r\n\r\n    fetchError = (errorMessage) => {\r\n        this.props.onError(errorMessage);\r\n      };\r\n    \r\n      fetchSuccess = (loadedData) => {\r\n        this.props.onLoaded(loadedData);\r\n      };\r\n\r\n    loadData = () => {\r\n        let sp = new URLSearchParams();\r\n        sp.append('f', 'READ');\r\n        sp.append('n', 'GLEB_ITEM_INFO');\r\n\r\n        return isoFetch(\"https://fe.it-academy.by/AjaxStringStorage2.php\", {\r\n                method: 'post',\r\n                body: sp\r\n            })\r\n            .then( response => { // response - HTTP-ответ\r\n                if (!response.ok)\r\n                    throw new Error(\"fetch error \" + response.status); // дальше по цепочке пойдёт отвергнутый промис\r\n                else\r\n                    return response.json(); // дальше по цепочке пойдёт промис с пришедшими по сети данными\r\n            })\r\n            .then( data => { \r\n                data = JSON.parse(data.result).slice(0, 50);\r\n                this.fetchSuccess(data);\r\n            })\r\n            .catch( error => {\r\n                this.fetchError(error);\r\n            }); \r\n      };\r\n\r\n    render() {\r\n        \r\n        const { books, loading, error, search, cartItems, onAddedToCart, pageNum } = this.props;\r\n        \r\n        if (loading) {\r\n           return <Spinner/>;\r\n        }\r\n\r\n        if (error) {\r\n            return <ErrorIndicator/>\r\n        }\r\n\r\n        return (<React.Fragment>\r\n                    <Container>\r\n                        <BookList pageNum = { pageNum } items = { cartItems } str= { search } books={ books } onAddedToCart={ onAddedToCart }/>\r\n                    </Container>\r\n                </React.Fragment>)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    \r\n    let { pageNum } = ownProps;\r\n    let { books, loading, error, search } = state.store.bookList;\r\n    let { cartItems } = state.store.shoppingCart;\r\n    return { books, loading, error, search, cartItems, pageNum };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {    \r\n    return {\r\n        onRequested: () => {\r\n            dispatch(booksRequested());\r\n        },\r\n        onLoaded: (data) => {\r\n            dispatch(booksLoaded(data));\r\n        },\r\n        onError: (err) => {\r\n            dispatch(booksError(err));\r\n        },\r\n        onAddedToCart : (id) => {\r\n            dispatch(bookAddedToCart(id));\r\n        }\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookListContainer);","import BookList from './book-list';\r\n\r\nexport default BookList;","import React from 'react';\r\nimport { Button, Form, FormControl} from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { bookSearch } from '../../actions'\r\n\r\nimport './search-panel.css'\r\n\r\nclass SearchPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);    \r\n        this.inputRef = React.createRef();\r\n      }\r\n\r\n    componentDidMount() {\r\n        this.inputRef.current.focus();\r\n    }\r\n\r\n    search = () => { \r\n        let str = this.inputRef.current.value;\r\n        this.inputRef.current.value = '';\r\n        this.props.dispatch( bookSearch(str) );\r\n    }\r\n\r\n    render() {        \r\n        return (\r\n            <Form inline> \r\n                    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" ref={this.inputRef}/>\r\n                    <Button variant=\"outline-primary\" onClick={this.search}>Search</Button>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return state;\r\n};\r\n\r\nexport default connect(mapStateToProps)(SearchPanel);","import SearchPanel from './search-panel';\r\n\r\nexport default SearchPanel;","import React from 'react';\r\nimport BookList from '../book-list';\r\nimport SearchPanel from '../search-panel';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Nav, Navbar } from 'react-bootstrap';\r\n\r\nimport './home-page.css';\r\n\r\nconst HomePage = (props) => {\r\n    \r\n    return ( \r\n        <div className='home-page'>\r\n          <Navbar bg=\"dark\" variant=\"dark\" className=\"justify-content-center\" style={{padding: '20px'}}>\r\n                <SearchPanel/>\r\n          </Navbar>\r\n\r\n          <Navbar className=\"justify-content-center\" bg=\"dark\" as=\"ul\">\r\n            <Nav.Item as=\"li\">\r\n\r\n              <NavLink to=\"/book-store/1\" className=\"PageLink\" activeClassName=\"ActivePageLink\">1-10</NavLink>\r\n\r\n            </Nav.Item>\r\n            <Nav.Item as=\"li\">\r\n\r\n              <NavLink to=\"/book-store/2\" className=\"PageLink\" activeClassName=\"ActivePageLink\">10-20</NavLink>\r\n\r\n            </Nav.Item>\r\n            <Nav.Item as=\"li\">\r\n\r\n              <NavLink to=\"/book-store/3\" className=\"PageLink\" activeClassName=\"ActivePageLink\">20-30</NavLink>\r\n\r\n            </Nav.Item>\r\n            <Nav.Item as=\"li\">\r\n\r\n              <NavLink to=\"/book-store/4\" className=\"PageLink\" activeClassName=\"ActivePageLink\">30-40</NavLink>\r\n\r\n            </Nav.Item>\r\n            <Nav.Item as=\"li\">\r\n\r\n              <NavLink to=\"/book-store/5\" className=\"PageLink\" activeClassName=\"ActivePageLink\">40-50</NavLink>\r\n\r\n            </Nav.Item>\r\n            <Nav.Item as=\"li\">\r\n\r\n              <NavLink to=\"/book-store/\" exact className=\"PageLink\" activeClassName=\"ActivePageLink\">All</NavLink>\r\n\r\n            </Nav.Item>\r\n          </Navbar>\r\n\r\n          <BookList pageNum = { props.match.params.clid } />\r\n\r\n            \r\n\r\n            \r\n            \r\n        </div>       \r\n        \r\n    )\r\n};\r\n\r\nexport default HomePage;","import React from 'react';\r\nimport './shopping-cart-table.css';\r\nimport { connect } from 'react-redux';\r\nimport { bookAddedToCart, bookRemoveFromCart, allBookRemoveFromCart } from '../../actions';\r\nimport { CSSTransition, TransitionGroup, } from 'react-transition-group';\r\nimport { Container, ListGroup } from 'react-bootstrap';\r\n\r\nconst ShoppingCartTable = ( props ) => {\r\n\r\n    const {items, total, onIncrease, onDecrease, onDelete} = props;\r\n\r\n    const renderRow = items.map((item, idx) => {\r\n        const {id, title, count, total} = item;\r\n        return (\r\n            <CSSTransition key={id} timeout={500} classNames=\"item\" >\r\n            \r\n                <ListGroup.Item className='shopping-cart-list'>\r\n                    <div>{idx + 1}</div>\r\n                    <div>{title}</div>\r\n                    <div>{count}</div>\r\n                    <div>{total}</div>\r\n                    <div>\r\n                        <button onClick={() => onDelete(id)}\r\n                                className='btn btn-outline-danger btn-sm'>\r\n                            <i className='fa fa-trash-o'/>\r\n                        </button>\r\n                        <button onClick={() => onIncrease(id)}\r\n                                className='btn btn-outline-success btn-sm'>\r\n                            <i className='fa fa-plus-circle'/>\r\n                        </button>\r\n                        <button onClick={() => onDecrease(id)}\r\n                                className='btn btn-outline-warning btn-sm'>\r\n                            <i className='fa fa-minus-circle'/>\r\n                        </button>\r\n                    </div>\r\n                </ListGroup.Item>\r\n            \r\n            </CSSTransition>\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div className='shopping-cart-table'>        \r\n            <h2>Your Order</h2>\r\n            <div> \r\n            <Container>               \r\n                <ListGroup>\r\n                   \r\n                        <ListGroup.Item className='shopping-cart-list'>\r\n                            <div>#</div>\r\n                            <div>Item</div>\r\n                            <div>Count</div>\r\n                            <div>Price</div>\r\n                            <div>Action</div>\r\n                        </ListGroup.Item>            \r\n                     <TransitionGroup>\r\n                        {\r\n                            renderRow\r\n                        }\r\n                    </TransitionGroup>\r\n                </ListGroup>\r\n            </Container>\r\n            </div>\r\n            <div className='total'>\r\n                Total: ${total}\r\n            </div>        \r\n        </div>\r\n    )\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    let {\r\n        cartItems: items,\r\n        orderTotal: total\r\n    } = state.store.shoppingCart;\r\n    return {\r\n        items,\r\n        total\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n        onIncrease: bookAddedToCart,\r\n        onDecrease: bookRemoveFromCart,\r\n        onDelete: allBookRemoveFromCart\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);","import ShoppingCartTable from './shopping-cart-table';\r\nexport default ShoppingCartTable;","import React from 'react';\r\nimport ShoppingCartTable from '../shopping-cart-table';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nconst CardPage = () => {\r\n    return <React.Fragment>\r\n            <ShoppingCartTable/>\r\n            <NavLink to='/book-store'>\r\n                <Button variant=\"dark\">Back</Button>\r\n            </NavLink>\r\n        </React.Fragment>\r\n    \r\n};\r\n\r\nexport default CardPage;","import ShopHeader from './shop-header';\r\nexport default ShopHeader;","import React from 'react';\r\nimport './shop-header.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst ShopHeader = ({ numItems, total }) => {\r\n    return (\r\n        <header className='shop-header row'>\r\n            <NavLink to='/book-store'>\r\n                <div className='logo text-primary' href='#'>BooksStore</div>\r\n            </NavLink>\r\n            <NavLink to='/book-store/cart'>\r\n                <div>\r\n                    <i className='cart-icon fa fa-shopping-cart'/>\r\n                    {numItems} items (${total})\r\n                </div>\r\n            </NavLink>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default ShopHeader","import React from 'react';\r\nimport { Route, Switch, withRouter } from 'react-router-dom';\r\nimport { HomePage, CardPage } from '../pages/'\r\nimport ShopHeader from '../shop-header';\r\nimport { connect } from 'react-redux';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nimport './app.css';\r\n\r\nconst Container = ({ location }) => {\r\n    return (\r\n      <React.Fragment>\r\n          <TransitionGroup>\r\n              <CSSTransition key={location.key} timeout={{ enter: 300, exit: 300 }} classNames={'fade'}>\r\n                  <Switch location={location}>\r\n                        <Route path='/book-store' exact component={HomePage}/>\r\n                        <Route path='/book-store/cart' component={CardPage}/>\r\n                        <Route path=\"/book-store/:clid\" component={HomePage}/>\r\n                  </Switch>\r\n              </CSSTransition>\r\n        </TransitionGroup>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\nconst AnimationRoute = withRouter(Container);\r\n\r\nexport const App = ({orderTotal, cartItems}) => {\r\n    let num = 0;\r\n    if (cartItems.length !== 0 ) {        \r\n        num =   cartItems.reduce((sum, current) => {\r\n            return sum + current.count}, 0);\r\n    }\r\n    \r\n    return (\r\n        <main role='main' className='container'>\r\n            <ShopHeader numItems={num} total={orderTotal}/>\r\n            <AnimationRoute/>\r\n        </main>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {    \r\n    return state.store.shoppingCart;\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);","import App from './app';\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React from 'react';\r\nimport ErrorIndicator from '../error-indicator'\r\n\r\nexport default class ErrorBoundry extends React.Component {\r\n\r\n    state = {\r\n        hasError: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({ hasError: true })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            return <ErrorIndicator/>;\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}","const updateBookList = (state, action) => {\r\n    if (state === undefined) {\r\n        return {\r\n            books: [],\r\n            search: '',\r\n            loading: true,\r\n            error: null\r\n        }\r\n    }     \r\n    switch (action.type) {\r\n        case 'FETCH_BOOKS_REQUEST':\r\n            return {\r\n                books: [],\r\n                search: '',\r\n                loading: true,\r\n                error: null\r\n            };\r\n        case 'FETCH_BOOKS_SUCCESS':\r\n            return {\r\n                books: action.payload,\r\n                search: '',\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case 'FETCH_BOOKS_FAILURE':\r\n            return {\r\n                books: [],\r\n                search: '',\r\n                loading: false,\r\n                error: action.payload\r\n            };\r\n         case 'FETCH_BOOKS_SEARCH':\r\n                    return {\r\n                        ...state.bookList,\r\n                        search: action.payload,\r\n                    };\r\n        default:\r\n            return state.bookList;\r\n    }\r\n\r\n};\r\n\r\nexport default updateBookList;","const updateShoppingCart = (state, action) => {\r\n    if (state === undefined) {\r\n        return {\r\n            cartItems: [],\r\n            orderTotal: 0\r\n        }\r\n    } \r\n    \r\n    switch (action.type) {\r\n        case 'BOOK_ADDED_TO_CART':\r\n            return updateOrder( state, action.payload, 1 );\r\n        case 'BOOK_REMOVE_FROM_CART':\r\n            return updateOrder( state, action.payload, -1 );\r\n        case 'ALL_BOOK_REMOVE_FROM_CART':\r\n            const item = state.shoppingCart.cartItems.find(({id})=> id === action.payload);\r\n            return updateOrder( state, action.payload, -item.count );\r\n        default:\r\n            return state.shoppingCart;\r\n    }\r\n};\r\n\r\nconst updateCartItem = (book, item = {}, quantity) => {\r\n\r\n    const {\r\n        id = book.id,\r\n        count = 0,\r\n        title = book.title ,\r\n        total = 0 } = item;\r\n\r\n\r\n\r\n    return {\r\n        id,\r\n        title,\r\n        count: count + quantity,\r\n        total: total + quantity * book.price\r\n    };\r\n\r\n};\r\n\r\nconst updateCartItems = (cartItems, item, idx) => {\r\n    if (item.count === 0) {\r\n        return [\r\n            ...cartItems.slice(0, idx),\r\n            ...cartItems.slice(idx + 1)\r\n        ];\r\n    }\r\n\r\n    if (idx === -1) {\r\n        return [\r\n            ...cartItems,\r\n            item\r\n        ];\r\n    }\r\n    return [\r\n        ...cartItems.slice(0, idx),\r\n        item,\r\n        ...cartItems.slice(idx + 1)\r\n    ];\r\n};\r\n\r\nconst updateOrder = (state, bookId, quantity) => {\r\n\r\n    const { bookList: { books }, shoppingCart: { cartItems, orderTotal }  } = state;\r\n    \r\n    const book = books.find(({ id }) => id === bookId);\r\n    \r\n    const itemIndex = cartItems.findIndex(\r\n        ({id}) => id === bookId);\r\n    const item = cartItems[itemIndex];\r\n\r\n    let newItem = updateCartItem(book, item, quantity);\r\n    \r\n    \r\n        \r\n    return {\r\n        orderTotal: orderTotal + book.price*quantity,\r\n        cartItems: updateCartItems(cartItems, newItem, itemIndex)\r\n    };\r\n};\r\n\r\nexport default updateShoppingCart;\r\n","import reducer from './reducer';\r\n\r\nexport default reducer;","import updateBookList from './book-list';\r\nimport updateShoppingCart from './shopping-cart';\r\n\r\nconst reducer = (state, action) => {\r\n    return {\r\n                bookList: updateBookList(state, action),\r\n                shoppingCart: updateShoppingCart(state, action)\r\n            }    \r\n};\r\n\r\nexport default reducer;","import { createStore, combineReducers } from 'redux';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst combinedReducer = combineReducers({\r\n    store: reducer\r\n});\r\n\r\nconst store = createStore(combinedReducer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport App from './components/app/';\r\nimport ErrorBoundry from './components/error-boundry';\r\n\r\n\r\n\r\nimport store from './store';\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <ErrorBoundry>            \r\n                <BrowserRouter>                            \r\n                            <App/>\r\n                </BrowserRouter>            \r\n        </ErrorBoundry>                \r\n    </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}